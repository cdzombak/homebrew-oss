# typed: true
# frozen_string_literal: true

# This file was generated by Homebrew Releaser. DO NOT EDIT.
class EnergybridgeToInfluxdb < Formula
  desc "Pull electricity usage readings from an energy bridge via mqtt and ship them to"
  homepage "https://github.com/cdzombak/energybridge_to_influxdb"
  url "https://github.com/cdzombak/energybridge_to_influxdb/archive/refs/tags/v1.0.3.tar.gz"
  sha256 "3c3361e8d430cff027949a4ca7ac776d254ef0f3dce0f11d4af2e67307a28c36"
  license "MIT"

  on_macos do
    on_intel do
      url "https://github.com/cdzombak/energybridge_to_influxdb/releases/download/v1.0.3/energybridge_to_influxdb-1.0.3-darwin-amd64.tar.gz"
      sha256 "7284f556f1ea2c348c3c743fa22f998498441e05a20a3823a082346b15e30987"
    end

    on_arm do
      url "https://github.com/cdzombak/energybridge_to_influxdb/releases/download/v1.0.3/energybridge_to_influxdb-1.0.3-darwin-arm64.tar.gz"
      sha256 "e2aa608de1200b1fa607a0030c8ac0a14fd79a324871a5dfa7796d1092736083"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/cdzombak/energybridge_to_influxdb/releases/download/v1.0.3/energybridge_to_influxdb-1.0.3-linux-amd64.tar.gz"
      sha256 "025ddfb585253693bba9590f62ec2284bfc06e173ec6e1e7723e14d0d71df8c2"
    end

    on_arm do
      url "https://github.com/cdzombak/energybridge_to_influxdb/releases/download/v1.0.3/energybridge_to_influxdb-1.0.3-linux-arm64.tar.gz"
      sha256 "aff03e9a606b0ab6b0dae099420fec5deb6761f7568b6f4f4e3b4f33eb73e868"
    end
  end

  def install
    bin.install "energybridge_to_influxdb"
  end

  test do
    assert_match("1.0.3", shell_output("#{bin}/energybridge_to_influxdb -version"))
  end
end
